<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="huang.jin.hua.dao.ProductDao">

    <resultMap id="ProductMap" type="Product">
        <result property="id" column="product_id"/>
    </resultMap>

    <select id="getProducts" resultMap="ProductMap">
        SELECT * FROM t_product;
    </select>

    <insert id="addProduct">
        insert into t_product (name, price, quantity, descriptions)
        VALUES (#{name}, #{price}, #{quantity}, #{descriptions});
    </insert>

    <update id="updateProduct">
        UPDATE t_product SET name = #{name},
                             price = #{price},
                             quantity = #{quantity}
                         WHERE product_id = #{id};
    </update>


    <select id="getProductbyId" resultType="Product">
        SELECT * FROM t_product where product_id = #{id};
    </select>

    <select id="getProductbyName" resultType="Product">
        SELECT * FROM t_product where name = #{name} and product_id != #{id};
    </select>

</mapper>